{% extends 'base.html.twig' %}
{% block header %}
    
{% endblock %}
{% block body %}
    <div class="row justify-content-center">
    <div class="col-1">
    <a class=" mt-5 btn btn-outline-info btn-sm mt-auto creative-link" href="{{ path('profile_user', {'id': app.user.getId()}) }}">
            <i class="fas fa-arrow-left"></i> Profile
        </a>
        </div>
        <div class="col-md-6">
         <h1>Your Referral Link</h1>
    <p>User ID: {{ user.id }}</p>
    <p>Referral Code: {{ referralCode }}</p>
<p>
            Share this code with your friends to earn rewards!
        </p>

        <p>
            Registration Link: <a href="{{ registrationLink }}">{{ registrationLink }}</a>
        </p>
    
        
            {# Genealogy Tree #}
            <h1 class="text-info  text-uppercase mb-3">Link</h1>
            <div class="genealogy-container mt-3">
                <div class="genealogy-tree">
                    {% include 'profile/genealogy_tree.html.twig' with {'user': app.user} %}
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.7.0/dist/js/bootstrap.bundle.min.js"></script>

     <script>
        // Expand and collapse children lists
        $('.person-details').on('click', function (event) {
            event.preventDefault();
            var childrenList = $(this).parent().find('.children-list');
            childrenList.toggleClass('show', !childrenList.hasClass('show'));
        });
    </script>

  <style>
    .genealogy-tree {
        display: flex;
        flex-direction: row;
        align-items: center;
    }

    .person {
        text-align: center;
        justify-content: flex-start;
        margin: 20px 20px; /* Adjust margin as needed */
        position: relative;
    }

    .children {
        display: flex;
        flex-direction: row;
        justify-content: space-around;
        align-items: center;
    }

    .child {
        position: relative;
        margin: 0 10px; /* Adjust margin as needed */
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .child img,
    .empty-slot img {
        width: 80px; /* Set a fixed width for the profile pictures */
        height: 80px; /* Set a fixed height for the profile pictures */
        border-radius: 50%; /* Ensure a circular shape for the images */
        object-fit: cover; /* Maintain aspect ratio while covering the container */
        margin-bottom: 5px; /* Add margin to separate images */
    }

    .empty-slot {
        position: relative;
        margin: 0 10px; /* Adjust margin as needed */
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .empty-slot .connector-svg {
        height: 50px;
    }
</style>

{% endblock %}
